**现在CPU大多数情况下读写都不会直接访问内存（CPU都没有连接到内存的管脚），取而代之的是CPU缓存，CPU缓存是位于CPU与内存之间的临时存储器，它的容量比内存小得多但是交换速度却比内存快得多**。而缓存中的数据是内存中的一小部分数据，但这一小部分是短时间内CPU即将访问的，当CPU调用大量数据时，就可先从缓存中读取，从而加快读取速度。

按照读取顺序与CPU结合的紧密程度，CPU缓存可分为：

- 一级缓存：简称L1 Cache，**位于CPU内核的旁边，是与CPU结合最为紧密的CPU缓存**；
- 二级缓存：简称L2 Cache，分内部和外部两种芯片，内部芯片二级缓存运行速度与主频相同，外部芯片二级缓存运行速度则只有主频的一半；
- 三级缓存：简称L3 Cache，部分高端CPU才有；

图示:

<div align="center"><img src="assets/1556204273015.png"></div><br>

每一级缓存中所存储的数据全部都是下一级缓存中的一部分，这三种缓存的技术难度和制造成本是相对递减的，所以其容量也相对递增。

当CPU要读取一个数据时，首先从一级缓存中查找，如果没有再从二级缓存中查找，如果还是没有再从三级缓存中或内存中查找。一般来说每级缓存的命中率大概都有80%左右，也就是说全部数据量的80%都可以在一级缓存中找到，只剩下20%的总数据量才需要从二级缓存、三级缓存或内存中读取。

**当系统运行时，CPU执行计算的过程如下**：

* 1、程序以及数据被加载到主内存；
* 2、指令和数据被加载到CPU缓存；
* 3、CPU执行指令，把结果写到高速缓存；
* 4、高速缓存中的数据写回主内存；



![1556199201759](assets/1556199201759.png)





参考: 

<https://www.cnblogs.com/xrq730/p/7048693.html>

<https://www.cnblogs.com/xrq730/p/4859107.html>